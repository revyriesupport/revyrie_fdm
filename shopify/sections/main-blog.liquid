{{ 'component-article-card.css' | asset_url | stylesheet_tag }}
{{ 'component-card.css' | asset_url | stylesheet_tag }}
{{ 'section-main-blog.css' | asset_url | stylesheet_tag }}
{{ 'ajaxinate.min.js' | asset_url | script_tag }}
{%- style -%}
    #AjaxinateContainer-Pagination{
      width: max-content;
      margin: auto;
      margin-bottom: 10px;
      text-align: center;
  }
  #loading-status{
    display: none;
    text-align: center;
    margin-top: 5px;
    width: max-content;
    margin: auto;
   margin-bottom: 56px;
  }
  #load-more-btn{
    display: inline-flex;
    align-items: center;
    padding:14px 34px;
    cursor: pointer;
    font: inherit;
    font-size: 1.5rem;
    text-decoration: none;
    color:#000;
    transition: box-shadow var(--duration-short) ease;
    -webkit-appearance: none;
    appearance: none;
    background-color:transparent;
    border:1px solid #000;
}
 #load-more-btn:hover {
    color: #d4857b;
  border:1px solid #d4857b;
}
 .blog-wrapper-{{ section.id }}  .article-category{
  margin-bottom:5px;
}
  .blog-wrapper-{{ section.id }} .article-card__info{
    padding:0;
  }
  
  .blog-wrapper-{{ section.id }}  .article-category{
      text-transform: uppercase;
      font-size:12px;
      text-decoration: none;
  }
    .blog-main-sub-title{
      text-align: {{ section.settings.content_alignment }};
      color: {{ section.settings.sub_title_text_color }};
      font-size: {{ section.settings.sub_title_heading_font_size }}px;
      margin: 20px 0 20px 5px;
    }
    .blog-main-sub-title .blog_sub_title_image{
      display: block;
      margin: 10px auto 20px auto;
    }
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
      padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
    }
    
    .section-{{ section.id }}-padding .copy.article-subtitle{
      color: {{ section.settings.text_color }} !important;
    }

    .section-{{ section.id }}-padding .article_grid_heading{
      font-size: {{ section.settings.heading_font_size }}px;
      color: {{ section.settings.text_color }} !important;
    }

    .section-{{ section.id }}-padding .article_grid_content{
      font-size: {{ section.settings.content_font_size }}px;
      color: {{ section.settings.text_color }} !important;
    }

    @media screen and (max-width: 768px) {
      .section-{{ section.id }}-padding .article_grid_heading {
        font-size: {{ section.settings.heading_font_size_mobile }}px;
      }
      .section-{{ section.id }}-padding .article_grid_content{
          font-size: {{ section.settings.content_font_size_mobile }}px;
      }

    .blog-wrapper-{{ section.id }} .article_grid_content{
      white-space: normal;
    }
    }

    @media screen and (min-width: 750px) {
      .section-{{ section.id }}-padding {
        padding-top: {{ section.settings.padding_top }}px;
        padding-bottom: {{ section.settings.padding_bottom }}px;
      }
    }

{%- endstyle -%}

{% include 'styles-global' %}

{%- paginate blog.articles by section.settings.blogs_to_show -%}
 <div class="main-blog page-width section-{{ section.id }}-padding main-blog-wrapper blog-wrapper-{{ section.id }}">
    <h1 class="title--primary{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--fade-in{% endif %}">
      <!-- {{ blog.title | escape }} -->
    </h1>
    <div class="blog-main-sub-title">
      {{
        section.settings.sub_title_image
        | image_url: width: 3840
        | image_tag: loading: 'lazy', height: height, sizes: sizes, widths: widths, class: 'blog_sub_title_image'
      }}
      {{ section.settings['blog-subtitle'] }}
    </div>
    <div id="AjaxinateContainer-Loop" class="blog-articles {% if section.settings.layout == 'collage' %}blog-articles--collage{% endif %}">
        {%- for article in blog.articles -%}
          <div
            class="blog-articles__article article{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}"
            {% if settings.animations_reveal_on_scroll %}
              data-cascade
              style="--animation-order: {{ forloop.index }};"
            {% endif %}
          >
            {%-
              render 'article-card',
              article: article,
              media_height: section.settings.image_height,
              media_aspect_ratio: article.image.aspect_ratio,
              show_image: section.settings.show_image,
              show_date: section.settings.show_date,
              show_author: section.settings.show_author,
              show_excerpt: true,
              article_button_style : section.settings.article_button_style,
              show_read_more: true
            -%}
          </div>
        {%- endfor -%}
      </div>
    <div id="AjaxinateContainer-Pagination">
      {% if paginate.next %}
        <a onclick="updateLoadingStatus();" href="{{ paginate.next.url }}" id="load-more-btn">Load More</a>
      {% endif %}
    </div>
    <div id="loading-status">
      <img src="{{ "loader.gif" | asset_url }}" alt="loading..." width="auto" height="auto" loading="lazy">
      <span>loading...</span>
    </div>
</div>
{%- endpaginate -%}
<script>
  document.addEventListener("DOMContentLoaded", function () {
    var endlessScroll = new Ajaxinate({
      container: '#AjaxinateContainer-Loop',
      pagination: '#AjaxinateContainer-Pagination',
      method: 'click',
      loadingText: "Load More",
      callback: function() {
        document.getElementById("loading-status").style.display = "none";
      }
    });
  });
  function updateLoadingStatus() {
    document.getElementById("loading-status").style.display = "block";
  }
</script>
{% schema %}
{
   "name":"t:sections.main-blog.name",
   "tag":"section",
   "class":"section",
   "settings":[
      {
         "type":"header",
         "content":"t:sections.main-blog.settings.sub_title_header.content"
      },
      {
         "type":"image_picker",
         "id":"sub_title_image",
         "label":"t:sections.main-blog.settings.sub_title_image.label"
      },
      {
         "type":"text",
         "id":"blog-subtitle",
         "label":"t:sections.main-blog.settings.blog-subtitle.label"
      },
      {
         "type":"color",
         "id":"sub_title_text_color",
         "default":"#FFFFFF",
         "label":"t:sections.main-blog.settings.sub_title_text_color.label"
      },
      {
         "type":"select",
         "id":"content_alignment",
         "options":[
            {
               "value":"left",
               "label":"t:sections.main-blog.settings.content_alignment.options__1.label"
            },
            {
               "value":"center",
               "label":"t:sections.main-blog.settings.content_alignment.options__2.label"
            },
            {
               "value":"right",
               "label":"t:sections.main-blog.settings.content_alignment.options__3.label"
            }
         ],
         "default":"center",
         "label":"t:sections.main-blog.settings.content_alignment.label"
      },
      {
         "type":"range",
         "id":"sub_title_heading_font_size",
         "min":0,
         "max":100,
         "step":1,
         "unit":"px",
         "label":"t:sections.main-blog.settings.sub_title_heading_font_size.label",
         "default":20
      },
      {
         "type":"range",
         "id":"blogs_to_show",
         "min":2,
         "max":30,
         "step":1,
         "default":6,
         "label":"t:sections.main-blog.settings.blogs_to_show.label"
      },
      {
         "type":"header",
         "content":"t:sections.main-blog.settings.header.content"
      },
      {
         "type":"select",
         "id":"layout",
         "options":[
            {
               "value":"grid",
               "label":"t:sections.main-blog.settings.layout.options__1.label"
            },
            {
               "value":"collage",
               "label":"t:sections.main-blog.settings.layout.options__2.label"
            }
         ],
         "default":"collage",
         "label":"t:sections.main-blog.settings.layout.label",
         "info":"t:sections.main-blog.settings.layout.info"
      },
      {
         "type":"checkbox",
         "id":"show_image",
         "default":true,
         "label":"t:sections.main-blog.settings.show_image.label"
      },
      {
         "type":"select",
         "id":"image_height",
         "options":[
            {
               "value":"adapt",
               "label":"t:sections.main-blog.settings.image_height.options__1.label"
            },
            {
               "value":"small",
               "label":"t:sections.main-blog.settings.image_height.options__2.label"
            },
            {
               "value":"medium",
               "label":"t:sections.main-blog.settings.image_height.options__3.label"
            },
            {
               "value":"large",
               "label":"t:sections.main-blog.settings.image_height.options__4.label"
            }
         ],
         "default":"medium",
         "label":"t:sections.main-blog.settings.image_height.label",
         "info":"t:sections.main-blog.settings.image_height.info"
      },
      {
         "type":"checkbox",
         "id":"show_date",
         "default":true,
         "label":"t:sections.main-blog.settings.show_date.label"
      },
      {
         "type":"checkbox",
         "id":"show_author",
         "default":false,
         "label":"t:sections.main-blog.settings.show_author.label"
      },
      {
         "type":"checkbox",
         "id":"article_button_style",
         "default":false,
         "label":"t:sections.image-banner.blocks.buttons.settings.button_style_secondary_1.label"
      },
      {
         "type":"paragraph",
         "content":"t:sections.main-blog.settings.paragraph.content"
      },
      {
         "type":"header",
         "content":"t:sections.main-blog.settings.font_size_color_section.label"
      },
      {
         "type":"color",
         "id":"text_color",
         "default":"#FFFFFF",
         "label":"t:sections.main-blog.settings.text_color.label"
      },
      {
         "type":"range",
         "id":"heading_font_size",
         "min":0,
         "max":100,
         "step":1,
         "unit":"px",
         "label":"t:sections.main-blog.settings.heading_font_size.label",
         "default":32
      },
      {
         "type":"range",
         "id":"heading_font_size_mobile",
         "min":0,
         "max":100,
         "step":1,
         "unit":"px",
         "label":"t:sections.main-blog.settings.heading_font_size_mobile.label",
         "default":32
      },
      {
         "type":"range",
         "id":"content_font_size",
         "min":0,
         "max":100,
         "step":1,
         "unit":"px",
         "label":"t:sections.main-blog.settings.content_font_size.label",
         "default":18
      },
      {
         "type":"range",
         "id":"content_font_size_mobile",
         "min":0,
         "max":100,
         "step":1,
         "unit":"px",
         "label":"t:sections.main-blog.settings.content_font_size_mobile.label",
         "default":18
      },
      {
         "type":"header",
         "content":"t:sections.all.padding.section_padding_heading"
      },
      {
         "type":"range",
         "id":"padding_top",
         "min":0,
         "max":100,
         "step":4,
         "unit":"px",
         "label":"t:sections.all.padding.padding_top",
         "default":36
      },
      {
         "type":"range",
         "id":"padding_bottom",
         "min":0,
         "max":100,
         "step":4,
         "unit":"px",
         "label":"t:sections.all.padding.padding_bottom",
         "default":36
      }
   ]
}
{% endschema %}
